<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:Configuration="clr-namespace:WinWeelay.Configuration;assembly=WinWeelay.Configuration"
        xmlns:CustomControls="clr-namespace:WinWeelay.CustomControls;assembly=WinWeelay.CustomControls"
    x:Class="WinWeelay.SettingsWindow"
        mc:Ignorable="d"
        Title="Settings" Height="289.576" Width="520.27" ResizeMode="NoResize" WindowStartupLocation="CenterOwner">
    <Window.DataContext>
        <Configuration:RelayConfiguration />
    </Window.DataContext>
    <Window.Resources>
        <CollectionViewSource Source="{Binding Source={x:Static Fonts.SystemFontFamilies}}" x:Key="fonts"/>
    </Window.Resources>
    <Grid>
        <TabControl Margin="0,0,0.5,35" Grid.ColumnSpan="2">
            <TabItem Header="Connection">
                <GroupBox Header="Connection Settings" Margin="10,5">
                    <Grid>
                        <Label Content="WeeChat Relay Hostname" HorizontalAlignment="Left" Margin="6,30,0,0" VerticalAlignment="Top" />
                        <Label Content="WeeChat Relay Port" HorizontalAlignment="Left" Margin="6,58,0,0" VerticalAlignment="Top" />
                        <Label Content="WeeChat Relay Password" HorizontalAlignment="Left" Margin="6,86,0,0" VerticalAlignment="Top" />
                        <TextBox Height="23" Margin="155,32,3,0" TextWrapping="Wrap" VerticalAlignment="Top" Text="{Binding Hostname}" />
                        <CustomControls:NumericUpDown Height="23" Margin="155,60,3,0" VerticalAlignment="Top" Value="{Binding Port, Mode=TwoWay}" Width="Auto" MaxValue="99999" MinValue="1" />
                        <PasswordBox x:Name="_passwordBox" Height="23" Margin="155,88,3,0" VerticalAlignment="Top" />
                        <CheckBox Content="Automatically Connect" HorizontalAlignment="Left" Margin="10,120,0,0" VerticalAlignment="Top" IsChecked="{Binding AutoConnect}" />
                        <ComboBox x:Name="_connectionTypeComboBox" HorizontalAlignment="Left" Margin="155,5,3,0" VerticalAlignment="Top" Width="122" ItemsSource="{Binding ConnectionTypes}" DisplayMemberPath="Description" SelectedValuePath="ConnectionType" SelectedValue="{Binding ConnectionType}" />
                        <Label Content="Connection Type" HorizontalAlignment="Left" Margin="6,3,0,0" VerticalAlignment="Top" />
                    </Grid>
                </GroupBox>
            </TabItem>
            <TabItem Header="Content">
                <GroupBox Header="Content Settings" Margin="10,5" >
                    <Grid>
                        <Label Content="Initial Buffer Size" HorizontalAlignment="Left" Margin="6,3,0,0" VerticalAlignment="Top" />
                        <CustomControls:NumericUpDown Height="23" Margin="155,3,3,0" VerticalAlignment="Top" Value="{Binding BacklogSize, Mode=TwoWay}" Width="Auto" MaxValue="1000" MinValue="0" />
                        <CheckBox Content="Sync read messages with WeeChat" HorizontalAlignment="Left" Margin="10,63,0,0" VerticalAlignment="Top" IsChecked="{Binding SyncReadMessages}" />
                        <CustomControls:NumericUpDown Height="23" Margin="155,30,3,0" VerticalAlignment="Top" Value="{Binding HistorySize}" Width="Auto" MaxValue="50" MinValue="1" />
                        <Label Content="Message History Size" HorizontalAlignment="Left" Margin="6,30,0,0" VerticalAlignment="Top" />
                    </Grid>
                </GroupBox>
            </TabItem>
            <TabItem Header="Theme">
                <GroupBox Header="Theme Settings" Margin="10,5">
                    <Grid>
                        <CustomControls:NumericUpDown Height="23" Margin="155,3,3,0" VerticalAlignment="Top" Value="{Binding FontSize, Mode=TwoWay}" Width="Auto" MaxValue="50" MinValue="1" />
                        <Label Content="Font Size" HorizontalAlignment="Left" Margin="6,3,0,0" VerticalAlignment="Top" />
                        <ComboBox Height="23" Margin="155,30,3,0" VerticalAlignment="Top" ItemsSource="{Binding Source={StaticResource fonts}}" SelectedValue="{Binding FontFamily}" SelectedValuePath="Source">
                            <ComboBox.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <VirtualizingStackPanel />
                                </ItemsPanelTemplate>
                            </ComboBox.ItemsPanel>
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontFamily="{Binding}" Height="20"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                        <Label Content="Font Family" HorizontalAlignment="Left" Margin="6,30,0,0" VerticalAlignment="Top" />
                    </Grid>
                </GroupBox>
            </TabItem>
        </TabControl>
        <Button x:Name="_okButton" Content="OK" Margin="0,0,90.5,9" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="74" Click="OkButton_Click" Grid.Column="1" />
        <Button x:Name="_cancelButton" Content="Cancel" Margin="0,0,10.5,9" HorizontalAlignment="Right" Width="74" Height="20" VerticalAlignment="Bottom" Click="CancelButton_Click" Grid.Column="1" />
    </Grid>

</Window>
